# Ссылка на проект  
В Google-Collab https://colab.research.google.com/drive/1jwRLo7JDd8Pk6xvxpeTyQeuhwGrGamEx?usp=sharing
# Описание проекта:  
HR-аналитики компании «Работа с заботой» помогают бизнесу оптимизировать управление персоналом: бизнес предоставляет данные, а аналитики предлагают, как избежать финансовых потерь и оттока сотрудников. В этом HR-аналитикам пригодится машинное обучение, с помощью которого получится быстрее и точнее отвечать на вопросы бизнеса.  
Компания предоставила данные с характеристиками сотрудников компании. Среди них — уровень удовлетворённости сотрудника работой в компании. Эту информацию получили из форм обратной связи: сотрудники заполняют тест-опросник, и по его результатам рассчитывается доля их удовлетворённости от 0 до 1, где 0 — совершенно неудовлетворён, 1 — полностью удовлетворён. 
Собирать данные такими опросниками не так легко: компания большая, и всех сотрудников надо сначала оповестить об опросе, а затем проследить, что все его прошли. 
**Первая задача** — построить модель, которая сможет предсказать уровень удовлетворённости сотрудника на основе данных заказчика.  
**Вторая задача** — построить модель, которая сможет на основе данных заказчика предсказать то, что сотрудник уволится из компании.  
**Почему бизнесу это важно**: удовлетворённость работой напрямую влияет на отток сотрудников. А предсказание оттока — одна из важнейших задач HR-аналитиков. Внезапные увольнения несут в себе риски для компании, особенно если уходит важный сотрудник.  
# Описание данных:  
*id** — уникальный идентификатор сотрудника;  
**dept** — отдел, в котором работает сотрудник;  
**level** — уровень занимаемой должности;  
**workload** — уровень загруженности сотрудника;  
**employment_years** — длительность работы в компании (в годах);  
**last_year_promo** — показывает, было ли повышение за последний год;  
**last_year_violations** — показывает, нарушал ли сотрудник трудовой договор за последний год;  
**supervisor_evaluation** — оценка качества работы сотрудника, которую дал руководитель;  
**salary** — ежемесячная зарплата сотрудника;  
**job_satisfaction_rate** — уровень удовлетворённости сотрудника работой в компании, целевой признак.  
**quit**- увольнение сотрудника в компании. 
# Этапы работы  
## Модель для предсказания 'job_satisfaction_rate'  (Задача регрессии)  
1. Загрузить и проверить данные на заявленное описание.

2. Проверить данные на явные, неявные дубликаты, пропуски, а также проверить типы данных по столбцам. Пропуски удалю при помощи 'мини пайплайна', который в п 4.6 будет улучшен.

3. Построю гистограммы для колличественных и круговые диаграммы для категориальных признаков. Проверю данные на выбросы при помощи диаграммы размаха и сделаю основные выводы. 

4. Разделю датафрейм на сотрудников, которых можно считать неудоволетворенными своей работой, а вторая подгруппа будет, кого все устраивает. Cравню данные категории при помощи визуализации и сделаю основные выводы. Стоит отметить, что порог классификации был задан 0.5  
5. Объединеню данные для тестовой выборки, для сопоставления входных признаков с целевыми. 

6. Проведу корреляционный анализ и проверю данные на мультиколлениарность. Также построю диаграмму рассения по целевому признаку 'job_satisfaction_rate'.

7. Проведу обучение при помощи двух моделей для задачи регрессии: DecisionTreeRegressor,LinearRegressor. Выберу наилучшую модель и оценю ее эффективность при помощи метрики SMAPE (которую сам и напишу). Визуализирую для лучшей модели, какие признаки влияют на предсказания.
## Модель для предсказания 'quit'  (Задача бинарной классификации)  
1. Загрузить и проверить тренировочные данные на заявленное описание.

2. Проверить данные на явные, неявные дубликаты, пропуски, а также проверить типы данных по столбцам. Пропуски удалю при помощи 'мини пайплайна', который был написан ранее

3. Построю гистограммы для колличественных и круговые диаграммы для категориальных признаков. Проверю данные на выбросы при помощи диаграммы размаха и сделаю основные выводы. 

4. Разделю датафрейм на сотрудников, которые уволились и действующие. Cравню данные категории при помощи визуализации и на основе полученных результатов составлю портрет уволившегося сотрудника.

5. Объединеню данные для тестовой выборки, для сопоставления входных признаков с целевыми. 

6. Проверю гипотезу о влияение коэффициента удовлетворенности на увольнение сотрудника. Сформилирую нулевую и альтернативную гипотезу для двухстороннего теста.

7. Добавлю job_satisfaction_rate в нашу тренировочную выборку и тестовую, на основе предсказания лучшей модели из п 4.6. И перегруппирую целевой датафрейм для корректной оценки работы в п 5.9

8. Проведу обучение при помощи трех моделей для задачи бинарной классификации: DecisionTreeClassifier,KNeighborsClassifier,LogisticRegression. Выберу наилучшую модель и оценю ее эффективность при помощи метрики ROC_AUC. Визуализирую для лучшей модели, какие признаки влияют на предсказания.

9. Напишу общий вывод о результатах проекта  
# Общий вывод.  
Таким образом в данной работе были получены следующие результаты:

1. Проверил данные на явные и неявные дубликаты. Устранил пропуски при помощи пайплайна.

2. Выяснил, больше всего в данных встречаются работники из отдела продаж и технологий. При этом у большинства сотрудников идет позиция junior либо midle и только у 9% sinior. Нагрузка в целом на большинство либо умеренная, либо низкая. Помимо этого стоит отметить, что лишь 3% сотрудников получали повышение за последний год.

3. Выяснил, что оценка качества работы сотрудника работодателем и повышение за последний год влияют на коэфициент удовлетворенности работника. 

4. У неудовлетворенных сотрудников зарплата идет менее 35000 и стаж работы как правило меньше 2 лет. Работодатель оценивает таких сотрудников крайне низко (оценка 3 и ниже)

5. Лучшей моделью для прогнозирования коэффициента удовлетворенности оказалась DecisionTreeRegressor,поскольку гиперпараметров у данной модели больше, в отличие от линейной ррегрессии. Самым важным признаком для модели являлась оценка качества работника руководителем.

6. Был составлен портрет уволившегося сотрудника, который выглядит следующим образом:
Зарплата идет менее 30000.Уровень загруженности низкий либо средний (преообладает низкий уровень).Опыт работы таких сотрудников менее 2 лет в данной компании, т.е в основном увольняются новоиспеченные работники.
Работодатель в целом достаточно низко оценивает работоспособность данной категории (оценка 3 и менее в среднем)

7. Также выяснил, что коэфициент удовлетворенности влияет на увольнение сотрудника

8. Таким образом лучшей моделью оказалось DecisionTreeClassifier. Стоит отметить, что коэфициент удовлетворенности сотрудника, стаж работы в компании и зарплата являются основными признаками, которые влияют на предсказание модели.

Я бы порекомендовал работодателю, повысить показатель повышения сотрудников за год (с 3% до 15%). К примеру можно предлагать кураторство мидлам и синьорам со низким уровнем загруженности, и поощрять кураторов, которые смогли поднять оценку качества работы таких сотрудников, а новичков премиями.
